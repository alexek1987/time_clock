{"ast":null,"code":"function fetchData() {\n  fetch(\"http://localhost:3000/api/v1/jobs/1\").then(function (response) {\n    if (!response.ok) {\n      throw Error(\"An error occurred. Please try again.\");\n    }\n\n    return response.json();\n  }).then(function (data) {\n    var position = data.position;\n    document.querySelector('#position').innerHTML = \"<h3>\".concat(position, \"</h3>\");\n    var firstName = data.shifts.map(function (data) {\n      return \"\\n    <span>\\n     \".concat(data.user.first_name, \"\\n    </span>\\n     \");\n    });\n    document.querySelector(\"#first_name\").insertAdjacentHTML(\"afterbegin\", firstName);\n    console.log(data);\n    var timeClock = data.shifts.map(function (data) {\n      console.log(data.shift);\n      return \"\\n     <div>\\n        <p>Clock in</p>\\n        \".concat(data.clock_in, \"\\n     </div>\\n     <div>\\n        <p>Clock out</p>\\n        \").concat(data.clock_out, \"\\n     </div>\\n     \");\n    });\n    document.querySelector(\"#time_clock\").insertAdjacentHTML(\"afterbegin\", timeClock);\n    var clocked_out = data.clock_out === null && data.clock_in !== null;\n    var timeClockButton = document.querySelector('#time_clock_btn');\n\n    if (clocked_out) {\n      timeClockButton.innerText = 'Clock In';\n      timeClockButton.style.color = 'green';\n    } else {\n      timeClockButton.innerText = 'Clock Out';\n      timeClockButton.style.background = 'grey';\n    }\n  })[\"catch\"](function (error) {\n    console.log(error);\n  });\n}\n\nfetchData();","map":{"version":3,"sources":["/Users/alexander/code/alexek1987/job_api/app/javascript/includes/script.js"],"names":["fetchData","fetch","then","response","ok","Error","json","data","position","document","querySelector","innerHTML","firstName","shifts","map","user","first_name","insertAdjacentHTML","console","log","timeClock","shift","clock_in","clock_out","clocked_out","timeClockButton","innerText","style","color","background","error"],"mappings":"AAAA,SAASA,SAAT,GAAqB;AACnBC,EAAAA,KAAK,CAAC,qCAAD,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAMC,KAAK,CAAC,sCAAD,CAAX;AACD;;AACD,WAAOF,QAAQ,CAACG,IAAT,EAAP;AACD,GAND,EAMGJ,IANH,CAMQ,UAAAK,IAAI,EAAI;AAChB,QAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;AACAC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,SAApC,iBAAuDH,QAAvD;AAEA,QAAII,SAAS,GAAGL,IAAI,CAACM,MAAL,CAAYC,GAAZ,CAAgB,UAAAP,IAAI,EAAI;AACtC,0CAEGA,IAAI,CAACQ,IAAL,CAAUC,UAFb;AAKC,KANa,CAAhB;AAOEP,IAAAA,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCO,kBAAtC,CAAyD,YAAzD,EAAuEL,SAAvE;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AAEF,QAAIa,SAAS,GAAGb,IAAI,CAACM,MAAL,CAAYC,GAAZ,CAAgB,UAAAP,IAAI,EAAI;AACtCW,MAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAI,CAACc,KAAjB;AACA,sEAGMd,IAAI,CAACe,QAHX,0EAOMf,IAAI,CAACgB,SAPX;AAUC,KAZa,CAAhB;AAaEd,IAAAA,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCO,kBAAtC,CAAyD,YAAzD,EAAuEG,SAAvE;AACA,QAAII,WAAW,GAAIjB,IAAI,CAACgB,SAAL,KAAmB,IAApB,IAA8BhB,IAAI,CAACe,QAAL,KAAkB,IAAlE;AACA,QAAIG,eAAe,GAAGhB,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;;AAEA,QAAIc,WAAJ,EAAiB;AACfC,MAAAA,eAAe,CAACC,SAAhB,GAA4B,UAA5B;AACAD,MAAAA,eAAe,CAACE,KAAhB,CAAsBC,KAAtB,GAA8B,OAA9B;AACD,KAHD,MAGO;AACLH,MAAAA,eAAe,CAACC,SAAhB,GAA4B,WAA5B;AACAD,MAAAA,eAAe,CAACE,KAAhB,CAAsBE,UAAtB,GAAmC,MAAnC;AACD;AACF,GA5CD,WA4CS,UAAAC,KAAK,EAAI;AAChBZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,GA9CD;AA+CD;;AAED9B,SAAS","sourcesContent":["function fetchData() {\n  fetch(\"http://localhost:3000/api/v1/jobs/1\")\n  .then(response => {\n    if (!response.ok) {\n      throw Error(\"An error occurred. Please try again.\")\n    }\n    return response.json()\n  }).then(data => {\n  var position = data.position;\n  document.querySelector('#position').innerHTML = `<h3>${position}</h3>`;\n\n  var firstName = data.shifts.map(data => {\n    return `\n    <span>\n     ${data.user.first_name}\n    </span>\n     `\n    })\n    document.querySelector(\"#first_name\").insertAdjacentHTML(\"afterbegin\", firstName);\n    console.log(data);\n\n  var timeClock = data.shifts.map(data => {\n    console.log(data.shift)\n    return `\n     <div>\n        <p>Clock in</p>\n        ${data.clock_in}\n     </div>\n     <div>\n        <p>Clock out</p>\n        ${data.clock_out}\n     </div>\n     `\n    })\n    document.querySelector(\"#time_clock\").insertAdjacentHTML(\"afterbegin\", timeClock);\n    var clocked_out = (data.clock_out === null) && (data.clock_in !== null);\n    var timeClockButton = document.querySelector('#time_clock_btn')\n\n    if (clocked_out) {\n      timeClockButton.innerText = 'Clock In';\n      timeClockButton.style.color = 'green';\n    } else {\n      timeClockButton.innerText = 'Clock Out';\n      timeClockButton.style.background = 'grey';\n    }\n  }).catch(error => {\n    console.log(error)\n  });\n}\n\nfetchData()"]},"metadata":{},"sourceType":"module"}