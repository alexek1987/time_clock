{"ast":null,"code":"function fetchData() {\n  fetch(\"http://localhost:3000/api/v1/jobs/2\").then(function (response) {\n    if (!response.ok) {\n      throw Error(\"An error occurred. Please try again.\");\n    }\n\n    return response.json();\n  }).then(function (data) {\n    var position = data.position;\n    document.querySelector('#position').innerHTML = \"<h1>\".concat(position, \"</h1>\");\n    var firstName = data.shifts.map(function (data) {\n      return \"\\n      <h2>\".concat(data.user.first_name, \"</h2>\\n      \");\n    });\n    document.querySelector(\"#first_name\").insertAdjacentHTML(\"afterbegin\", firstName);\n    console.log(data);\n    var timeClock = data.shifts.map(function (data) {\n      console.log(data);\n      return \"\\n      <div>\\n        <h2>Clock in</h2>\\n        <p>\".concat(data.clock_in, \"</p>\\n      </div>\\n      <div>\\n        <h2>Clock out</h2>\\n        <p>\").concat(data.clock_out, \"</p>\\n      </div>\\n      \");\n    });\n    document.querySelector(\"#time_clock\").insertAdjacentHTML(\"afterbegin\", timeClock);\n    var clocked_out = data.clock_out === null && data.clock_in !== null;\n    var timeClockButton = document.querySelector('#time_clock_btn');\n\n    if (clocked_out) {\n      timeClockButton.innerText = 'Clock in'; // timeClockButton.style.background = 'gray';\n    } else {\n      timeClockButton.innerText = 'Clock out'; // timeClockButton.style.background = 'gray';\n    }\n  })[\"catch\"](function (error) {\n    console.log(error);\n  });\n}\n\nfetchData();\n\nfunction createNewTimeEntry() {\n  fetch(\"http://localhost:3000/api/v1/jobs/2/new-time-entry\", {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-User-Email': 'mike@brown.com',\n      'X-User-Token': 'ZxFkx33i9eqsZZZ-jKEp'\n    }\n  }).then(function (response) {\n    if (!response.ok) {\n      throw Error(\"An error occurred. Please try again.\");\n    }\n\n    return response.json();\n  });\n}\n\nfunction assignHandlers() {\n  var timeClockButton = document.querySelector('#time_clock_btn');\n  timeClockButton.addEventListener('click', function (event) {\n    createNewTimeEntry();\n  });\n}\n\nassignHandlers(); // function postData() {\n//   fetch(\"http://localhost:3000/api/v1/jobs/1\", {\n//     method: 'POST',\n//     headers: {\n//       'Content-Type': 'application/json',\n//     },\n//     body: JSON.stringyfy( {\n//      // ?\n//     })\n//   })\n//   .then(response => {\n//     if (!response.ok) {\n//       throw Error(\"An error occurred. Please try again.\")\n//     }\n//     return response.json();\n//   }).then(data => {\n//     console.log(data);\n//   }).catch(error => {\n//     console.log(error)\n//   });\n// }\n// postData()","map":{"version":3,"sources":["/Users/alexander/code/alexek1987/job_api/app/javascript/includes/script.js"],"names":["fetchData","fetch","then","response","ok","Error","json","data","position","document","querySelector","innerHTML","firstName","shifts","map","user","first_name","insertAdjacentHTML","console","log","timeClock","clock_in","clock_out","clocked_out","timeClockButton","innerText","error","createNewTimeEntry","method","headers","assignHandlers","addEventListener","event"],"mappings":"AAAA,SAASA,SAAT,GAAqB;AACnBC,EAAAA,KAAK,CAAC,qCAAD,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAMC,KAAK,CAAC,sCAAD,CAAX;AACD;;AACD,WAAOF,QAAQ,CAACG,IAAT,EAAP;AACD,GAND,EAMGJ,IANH,CAMQ,UAAAK,IAAI,EAAI;AACd,QAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;AACAC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCC,SAApC,iBAAuDH,QAAvD;AAEA,QAAII,SAAS,GAAGL,IAAI,CAACM,MAAL,CAAYC,GAAZ,CAAgB,UAAAP,IAAI,EAAI;AACtC,mCACMA,IAAI,CAACQ,IAAL,CAAUC,UADhB;AAGD,KAJe,CAAhB;AAKAP,IAAAA,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCO,kBAAtC,CAAyD,YAAzD,EAAuEL,SAAvE;AAEAM,IAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AAEA,QAAIa,SAAS,GAAGb,IAAI,CAACM,MAAL,CAAYC,GAAZ,CAAgB,UAAAP,IAAI,EAAI;AACtCW,MAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACA,4EAGOA,IAAI,CAACc,QAHZ,qFAOOd,IAAI,CAACe,SAPZ;AAUD,KAZe,CAAhB;AAaAb,IAAAA,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCO,kBAAtC,CAAyD,YAAzD,EAAuEG,SAAvE;AACA,QAAIG,WAAW,GAAIhB,IAAI,CAACe,SAAL,KAAmB,IAApB,IAA8Bf,IAAI,CAACc,QAAL,KAAkB,IAAlE;AACA,QAAIG,eAAe,GAAGf,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;;AAEA,QAAIa,WAAJ,EAAiB;AACfC,MAAAA,eAAe,CAACC,SAAhB,GAA4B,UAA5B,CADe,CAEf;AAED,KAJD,MAIO;AACLD,MAAAA,eAAe,CAACC,SAAhB,GAA4B,WAA5B,CADK,CAEL;AACD;AACF,GA5CD,WA4CS,UAAAC,KAAK,EAAI;AAChBR,IAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,GA9CD;AA+CD;;AAED1B,SAAS;;AAET,SAAS2B,kBAAT,GAA8B;AAC5B1B,EAAAA,KAAK,CAAC,oDAAD,EAAuD;AAC1D2B,IAAAA,MAAM,EAAE,KADkD;AAE1DC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,sBAAgB,gBAFT;AAGP,sBAAgB;AAHT;AAFiD,GAAvD,CAAL,CAQC3B,IARD,CAQM,UAAAC,QAAQ,EAAI;AAChB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAMC,KAAK,CAAC,sCAAD,CAAX;AACD;;AACD,WAAOF,QAAQ,CAACG,IAAT,EAAP;AACD,GAbD;AAcD;;AAED,SAASwB,cAAT,GAA0B;AACxB,MAAIN,eAAe,GAAGf,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;AAEAc,EAAAA,eAAe,CAACO,gBAAhB,CAAiC,OAAjC,EACE,UAAUC,KAAV,EAAiB;AACfL,IAAAA,kBAAkB;AACrB,GAHD;AAID;;AAEDG,cAAc,G,CAEd;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAEA","sourcesContent":["function fetchData() {\n  fetch(\"http://localhost:3000/api/v1/jobs/2\")\n  .then(response => {\n    if (!response.ok) {\n      throw Error(\"An error occurred. Please try again.\")\n    }\n    return response.json()\n  }).then(data => {\n    var position = data.position;\n    document.querySelector('#position').innerHTML = `<h1>${position}</h1>`;\n\n    var firstName = data.shifts.map(data => {\n      return `\n      <h2>${data.user.first_name}</h2>\n      `\n    })\n    document.querySelector(\"#first_name\").insertAdjacentHTML(\"afterbegin\", firstName);\n\n    console.log(data);\n\n    var timeClock = data.shifts.map(data => {\n      console.log(data)\n      return `\n      <div>\n        <h2>Clock in</h2>\n        <p>${data.clock_in}</p>\n      </div>\n      <div>\n        <h2>Clock out</h2>\n        <p>${data.clock_out}</p>\n      </div>\n      `\n    })\n    document.querySelector(\"#time_clock\").insertAdjacentHTML(\"afterbegin\", timeClock);\n    var clocked_out = (data.clock_out === null) && (data.clock_in !== null);\n    var timeClockButton = document.querySelector('#time_clock_btn')\n\n    if (clocked_out) {\n      timeClockButton.innerText = 'Clock in';\n      // timeClockButton.style.background = 'gray';\n\n    } else {\n      timeClockButton.innerText = 'Clock out';\n      // timeClockButton.style.background = 'gray';\n    }\n  }).catch(error => {\n    console.log(error)\n  });\n}\n\nfetchData()\n\nfunction createNewTimeEntry() {\n  fetch(\"http://localhost:3000/api/v1/jobs/2/new-time-entry\", {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-User-Email': 'mike@brown.com',\n      'X-User-Token': 'ZxFkx33i9eqsZZZ-jKEp'\n    }\n  })\n  .then(response => {\n    if (!response.ok) {\n      throw Error(\"An error occurred. Please try again.\")\n    }\n    return response.json()\n  })\n}\n\nfunction assignHandlers() {\n  var timeClockButton = document.querySelector('#time_clock_btn')\n\n  timeClockButton.addEventListener('click',\n    function (event) {\n      createNewTimeEntry()\n  })\n}\n\nassignHandlers()\n\n// function postData() {\n//   fetch(\"http://localhost:3000/api/v1/jobs/1\", {\n//     method: 'POST',\n//     headers: {\n//       'Content-Type': 'application/json',\n\n//     },\n//     body: JSON.stringyfy( {\n\n//      // ?\n//     })\n//   })\n//   .then(response => {\n//     if (!response.ok) {\n//       throw Error(\"An error occurred. Please try again.\")\n//     }\n//     return response.json();\n//   }).then(data => {\n\n//     console.log(data);\n\n\n//   }).catch(error => {\n//     console.log(error)\n//   });\n// }\n\n// postData()\n"]},"metadata":{},"sourceType":"module"}